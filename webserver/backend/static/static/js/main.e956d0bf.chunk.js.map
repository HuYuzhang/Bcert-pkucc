{"version":3,"sources":["Card.js","Landing.js","EditMe.js","utils.js","Subject.js","Kingdom.js","NavBar.js","SignedIn.js","App.js","registerServiceWorker.js","index.js","constants.js","Upload.js"],"names":["Card","selected","this","props","path","item","select","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","concat","onClick","e","src","id","alt","name","superpower","disabled","Component","Landing","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","txtChanged","newVal","target","value","setState","url","userSession","UserSession","appConfig","state","handleClick","bind","assertThisInitialized","console","log","axios","get","then","response","data","alert","catch","error","preventDefault","redirectToSignIn","_this2","react_default","Link","to","signIn","type","onChange","href","class","EditMe","selectAnimal","selectTerritory","selectedAnimal","selectedTerritory","loadMe","me","animal","saveMe","assign","territory","myAnimal","myTerritory","completed","username","ANIMALS","map","index","key","TERRITORIES","jsonCopy","object","JSON","parse","stringify","resolveSubjects","component","subjects","subject","options","decrypt","app","getFile","ME_FILENAME","content","missing","Kingdom","ruler","protocol","realm","rulerUsername","clickAdd","addSubject","removeSubject","handleChange","loadKingdom","search","window","location","appUrl","split","nextProps","nextSubjects","length","event","loadRuler","SUBJECTS_FILENAME","loadSubjects","tokens","subjectFromKingdomUrl","push","saveSubjects","splice","_this3","putFile","encrypt","finally","history","pushState","mine","myKingdom","rulerAnimal","rulerTerritory","currentUsername","style","backgroundImage","EXPLORER_URL","rel","role","origin","NavBar","signOut","SignedIn","savingMe","savingKingdown","redirectToMe","signUserOut","_this4","loadUserData","pathname","Redirect","src_NavBar_0","Switch","Route","render","routeProps","src_EditMe_0","Upload","src_Kingdom_0","match","params","App","session","isUserSignedIn","isSignInPending","handlePendingSignIn","userData","Error","src_SignedIn_0","src_Landing_0","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","BrowserRouter","src_App_0","document","getElementById","URL","process","addEventListener","fetch","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","__webpack_require__","d","__webpack_exports__","blockstack__WEBPACK_IMPORTED_MODULE_0__","AppConfig","ipfs","require","ipfsAPI","host","port","_home_jasmine_webserver_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_jasmine_webserver_frontend_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_jasmine_webserver_frontend_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","saveTextBlobOnIpfs","blob","Promise","resolve","reject","descBuffer","Buffer","from","add","hash","err","saveImageOnIpfs","reader","buffer","result","_home_jasmine_webserver_frontend_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","strHash","strContent","imgSrc","react__WEBPACK_IMPORTED_MODULE_6___default","ref","multiple","file","refs","files","FileReader","readAsArrayBuffer","onloadend","cat","stream","array","out","i","len","c","char2","char3","String","fromCharCode","Utf8ArrayToStr","_Card__WEBPACK_IMPORTED_MODULE_9__","react_router_dom__WEBPACK_IMPORTED_MODULE_7__"],"mappings":"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","file":"static/js/main.e956d0bf.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport './Card.css'\n\n\nclass Card extends Component {\n\n  render() {\n    const selected = this.props.selected\n    const path = this.props.path\n    const item = this.props.item\n    const select = this.props.select\n    return (\n      <div\n        className={`card ${selected ? 'border-primary' : ''}`}\n        onClick={(e) => select(e, item)}\n      >\n      <img className=\"card-img-top\" src={`${path}${item.id}.jpg`} alt={item.name} />\n      <div className=\"card-body\">\n        <h4 className=\"card-title\">{item.name}</h4>\n        <p className=\"card-text\">{item.superpower}</p>\n        <button className='btn btn-primary btn-block' disabled={selected}>{ selected ? 'Selected' : 'Select' }</button>\n      </div>\n    </div>\n    )\n  }\n}\n\nexport default Card\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { UserSession } from 'blockstack'\nimport { appConfig } from './constants'\nimport './Landing.css'\n\nimport axios from 'axios' ;\n\nclass Landing extends Component {\n\n  constructor() {\n    super()\n    this.userSession = new UserSession({ appConfig })\n        this.state = {\n            url:'/home/user/path/to/certificate'\n\t}\n        this.handleClick=this.handleClick.bind(this)\n  }\n\nhandleClick(){\n  console.log(\"start to redirect to verify\")\n  let  url=\"http://127.0.0.1:8080/verify?url=\"+this.state.url\n  axios.get(url)\n  .then(function (response) {\n    let data =response.data\n    alert(data);\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n\n  txtChanged=(e)=>{\n    const newVal=e.target.value\n    this.setState({\n       url:newVal\n    })\n  }\n\n  signIn(e) {\n    e.preventDefault()\n    this.userSession.redirectToSignIn()\n  }\n\n  render() {\n    return (\n\n<div>\n\t<nav className=\"navbar navbar-expand-md navbar-dark bg-blue fixed-top\">\n\t<Link className=\"navbar-brand\" to=\"/\">PKU Cert Centre</Link>\n\t<div className=\"collapse navbar-collapse\" id=\"navbarsExampleDefault\">\n\t  <ul className=\"navbar-nav mr-auto\">\n\t    <li className=\"nav-item\">\n\t      <Link className=\"nav-link\" to=\"/\">网站首页</Link>\n\t    </li>\n\t    <li className=\"nav-item\">\n\t      <Link className=\"nav-link\" to=\"/\">验证证书</Link>\n\t    </li>\n\t    <li className=\"nav-item\">\n             <Link className=\"nav-link\" to=\"/\" onClick={this.signIn.bind(this)}>个人主页</Link>\n\t    </li>\n\t    <li className=\"nav-item\">\n\t      <Link className=\"nav-link\" to=\"/\">关于我们</Link>\n\t    </li>\n\t  </ul>\n\t</div>\n\n\t</nav>\n\n\t<div className=\"banner\">\n\t  <div className=\"search\">\n\t\t\t<div className=\"first\">\n\t\t\t\t<span className=\"pas\">输入需要验证的证书URL</span>\n\t\t  </div>\n\t\t\t\n\t\t\t{/*<form action=\"http://127.0.0.1:8080/verify\" method=\"post\">*/}\n\t\t\t<div className=\"second\">\n\t\t\t\t<div className=\"back\">\n\t\t\t\t\t<input type=\"text\" name=\"id\" value={this.state.url} onChange={(e) => this.txtChanged(e)} className=\"number\"/>\n\t\t\t\t<input type=\"submit\" onClick={this.handleClick} value=\"验证\"  className=\"ok\"/>             \n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t{/*</form>*/}\n\t\t\t\n\t\t</div>\n\t</div>\n\t<div className=\"aboutus\">\n            <img src=\"/static/image/intro.jpg\" alt=\"\" />\n\t    <div className=\"intro\">项目简介</div>\n\t    <div className=\"context\">\n\t   \t  <p> &nbsp;&nbsp;本项目基于区块链技术，使用比特币区块链记录学历证书信息。有利于高校数字化管理证书、学生实时提供学习凭证、公司验证学历真伪，从而更好的维护教育秩序。</p>\n\t    </div>\n\t    <div className=\"more\"><a className=\"menu-link\" href=\"http://127.0.0.1:8080/\" target=\"_self\">more</a></div> \n\t</div>\n\n\t<div className=\"show\">\n\t    <div className=\"chanpinphoto\">\n\t\t\t<p className=\"step\"><br/>1</p>\n\t\t\t<p className=\"step\"><br/>2</p>\n\t\t\t<p className=\"step\"><br/>3</p>\n\t\t<p>通过认证的学校可以颁发证书,并将其记录于区块链上，具有安全性、不可篡改性等优点，此外,学校还可以对证书进行撤回。</p>\n\t\t<p>获得证书的学生可以不必携带纸质证书,而是在需要使用时出示电子版证明即可。也可以通过证书的哈希值在IPFS平台上获得证书。</p>\n\t\t<p>企业或任何需要认证证书有效性的第三方都可以在本网站上传并查询证书的有效性，而不需要传统的邮件、电话等方式。</p>\n\t    </div>\n\t</div>\n\n\t<div class=\"bottom\">\n\t    <ul class=\"down\">\n\t\t<li>© All Rights Reserved </li>\n\t\t<li>基于区块链的教育信息验证系统 </li>\n\t\t<li>时旻 毕业设计</li>\n\t    </ul>\n\t</div>\n</div>\n    );\n  }\n}\n\nexport default Landing\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport './EditMe.css'\nimport Card from './Card'\nimport { ANIMALS, TERRITORIES, ME_FILENAME } from './constants'\n\nclass EditMe extends Component {\n\n  constructor(props) {\n    super(props)\n    this.selectAnimal = this.selectAnimal.bind(this)\n    this.selectTerritory = this.selectTerritory.bind(this)\n\n    this.state = {\n      selectedAnimal: false,\n      selectedTerritory: false\n    }\n    \n    this.loadMe = this.loadMe.bind(this)\n\n  }\n\n  componentWillMount() {\n    this.loadMe()\n  }\n\n  loadMe() {\n    if(this.props.me) {\n        this.setState({selectedAnimal: true, selectedTerritory: true})\n      } else {\n        this.setState({selectedAnimal: false, selectedTerritory: false})\n      }\n  }\n  \n\n  selectAnimal(e, animal) {\n    e.preventDefault()\n    this.setState({selectedAnimal: true})\n    this.props.saveMe(Object.assign({}, this.props.me, { animal }))\n  }\n\n  selectTerritory(e, territory) {\n    e.preventDefault()\n    this.setState({selectedTerritory: true})\n    this.props.saveMe(Object.assign({}, this.props.me, { territory }))\n  }\n\n\n  render() {\n    const me = this.props.me\n    let myAnimal = null\n    let myTerritory = null\n    if (me) {\n      myAnimal = this.props.me.animal\n      myTerritory = this.props.me.territory\n    }\n    const selectedAnimal = this.state.selectedAnimal \n    const selectedTerritory = this.state.selectedTerritory\n    const completed = selectedAnimal && selectedTerritory\n    const username = this.props.username\n\n    return (\n      <div className=\"EditMe container\">\n      <h2>Your animal persona</h2>\n      <p>You are the ruler of your kingdom! Pick your animal persona and its home!</p>\n        <h3>Select your animal</h3>\n        <div className=\"row card-deck\">\n        { ANIMALS.map((animal, index) => {\n          const selected = myAnimal && myAnimal.id === animal.id\n          return (\n            <Card path='/animals/' key={index} item={animal} select={this.selectAnimal} selected={selected} />\n                )\n          })\n        }\n        </div>\n        <h3 className=\"select-territory\">Select your territory</h3>\n        <div className=\"card-deck\">\n        { TERRITORIES.map((territory, index) => {\n          const selected = myTerritory && myTerritory.id === territory.id\n          return (\n            <Card path='/territories/' key={index} item={territory} select={this.selectTerritory} selected={selected} />\n                )\n          })\n        }\n        </div>\n        <div className=\"container row\">\n          <div className=\"col-lg-12 done\">\n            <p>\n              <Link to={completed?`/kingdom/${username}`:`/me`} \n                    className=\"btn btn-primary\">Done</Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default EditMe\n","import { ME_FILENAME, SUBJECTS_FILENAME } from './constants'\n\nexport function jsonCopy(object) {\n  return JSON.parse(JSON.stringify(object))\n}\n\n\n/**\n * Return a JSON object with the username\n * and domain of the kingdom\n *\n * Accepts URLs of the format:\n * https://example.com/kingdom/username.id\n * @param  {string} url\n * @return {Object} an Object with keys `app` and `username`\n */\nexport function subjectFromKingdomUrl(url) {\n  const tokens = url.split('/kingdom')\n  const app = tokens[0]\n  const username = tokens[1].split('/')[1]\n  return {\n    app,\n    username\n  }\n}\n\nexport function resolveSubjects(component, userSession, subjects) {\n  subjects.map((subject, index) => {\n    const options = {\n      decrypt: false,\n      app: subject.app,\n      username: subject.username\n    }\n    return userSession.getFile(ME_FILENAME, options) // fetch me.json for each subject\n    .then(content => {\n      if(!content) {\n\n        subjects[index] = Object.assign({}, subject, { missing: true })\n        component.setState({ subjects })\n        return subjects\n      } else {\n        subjects[index] = Object.assign({}, subject, { missing: false }, JSON.parse(content))\n        component.setState({ subjects })\n        return subjects\n      }\n\n    })\n  })\n}\n\nexport function loadRuler(userSession, username, app) {\n  const options = { decrypt: false, username, app }\n  return userSession.getFile(ME_FILENAME, options)\n  .then((content) => {\n    if(content) {\n      const ruler = JSON.parse(content)\n      return ruler\n    } else {\n      const ruler = null\n      return ruler\n    }\n  })\n}\n\nexport function loadSubjects(userSession, username, app) {\n  const options = { decrypt: false, username, app }\n  return userSession.getFile(SUBJECTS_FILENAME, options)\n  .then((content) => {\n    if(content) {\n      const subjects = JSON.parse(content)\n      return subjects\n    } else {\n      return []\n    }\n  })\n}\n","import React, { Component } from 'react'\n\n\nclass Subject extends Component {\n\n  render() {\n    const index = this.props.index\n    const username = this.props.subject.username\n    const selected = this.props.selected\n    const app = this.props.subject.app\n    const animal = this.props.subject.animal\n    const myKingdom = this.props.myKingdom\n    const currentUsername = this.props.currentUsername\n    if (!animal) {\n      return null\n    }\n\n    return (\n      <div\n        className={`card ${selected ? 'border-primary' : ''}`}\n      >\n      <img className=\"card-img-top\"\n        src={`${app}/animals/${animal.id}.jpg`}\n        alt={animal.name}\n      />\n      <div className=\"card-body\">\n        <h4 className=\"card-title\">{username} the {animal.name}</h4>\n        <p className=\"card-text\">{animal.superpower}<br />\n        It hails from the planet { app }.</p>\n        {myKingdom ?\n          <button className='btn btn-primary btn-block' onClick={(event) => this.props.removeSubject(event, index)}>Banish from kingdom</button>\n          :\n          <a\n            className='btn btn-primary btn-block'\n            href={`${window.location.origin}/kingdom/${currentUsername}?add=${app}/kingdom/${username}`}\n          >Add to my kingdom\n          </a>\n        }\n      </div>\n    </div>\n    )\n  }\n}\n\nexport default Subject\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { UserSession } from 'blockstack'\nimport { jsonCopy, subjectFromKingdomUrl,\n  loadRuler, loadSubjects, resolveSubjects } from './utils'\nimport Subject from './Subject'\nimport { appConfig, SUBJECTS_FILENAME, EXPLORER_URL } from './constants'\n\nimport './Kingdom.css'\n\nclass Kingdom extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      ruler: {\n        animal: {\n\n        },\n        territory: {\n\n        }\n      },\n      subjects: [],\n      value: '',\n      app:`${props.protocol}//${props.realm}`,\n      rulerUsername: props.ruler,\n      clickAdd: false\n    }\n    this.userSession = new UserSession({ appConfig })\n    this.addSubject = this.addSubject.bind(this)\n    this.removeSubject = this.removeSubject.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.loadKingdom = this.loadKingdom.bind(this)\n  }\n\n  componentWillMount() {\n    const app = this.state.app\n    const ruler = this.props.ruler\n    this.loadKingdom(ruler, app)\n    const search = window.location.search\n    if(search) {\n      const appUrl = search.split('=')[1]\n      this.setState({\n        value: appUrl,\n        clickAdd: true\n      })\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const nextSubjects = nextProps.subjects\n    if(nextSubjects) {\n      if (nextSubjects.length !== this.state.subjects.length) {\n        this.setState({ subjects: jsonCopy(nextSubjects) })\n      }\n      resolveSubjects(this, this.userSession, nextSubjects)\n    }\n  }\n\n\n  handleChange(event) {\n   this.setState({value: event.target.value});\n  }\n\n  loadKingdom(ruler, app) {\n    loadRuler(this.userSession, ruler, app)\n    .then(ruler => {\n      if (ruler) {\n        this.setState({ ruler })\n      }\n    })\n\n    loadSubjects(this.userSession, ruler, app)\n    .then(subjects => {\n      this.setState({ subjects })\n      resolveSubjects(this, this.userSession, subjects)\n    })\n  }\n\n  addSubject(e) {\n    e.preventDefault()\n    const subject = subjectFromKingdomUrl(this.state.value)\n    const subjects = jsonCopy(this.state.subjects)\n    this.setState({value: '', clickAdd: false})\n    subjects.push(subject)\n    this.setState({ subjects })\n    this.saveSubjects(subjects)\n  }\n\n  removeSubject(e, index) {\n    e.preventDefault()\n    const subjects = jsonCopy(this.state.subjects)\n    subjects.splice(index, 1) // remove subject at index\n    this.setState({ subjects })\n    this.saveSubjects(subjects)\n  }\n\n  saveSubjects(subjects) {\n    const options = { encrypt: false }\n    this.userSession.putFile(SUBJECTS_FILENAME, JSON.stringify(subjects), options)\n    .finally(() => {\n      if(window.location.search) {\n        window.history.pushState(null, \"\", window.location.href.split(\"?\")[0])\n      }\n      resolveSubjects(this, this.userSession, subjects)\n    })\n  }\n\n  render() {\n    const mine = this.props.myKingdom\n    const ruler = this.state.ruler\n    const rulerAnimal = ruler.animal\n    const rulerTerritory = ruler.territory\n    const username = this.state.rulerUsername\n    const subjects = this.state.subjects\n    const myKingdom = this.props.myKingdom\n    const app = this.state.app\n    const clickAdd = this.state.clickAdd\n    const currentUsername = this.props.currentUsername\n    return (\n      <div className=\"Kingdom\">\n        <div className=\"row\">\n          <div\n            className=\"col-lg-12 territory\"\n            style={{backgroundImage: `url('${app}/territories/${rulerTerritory.id}.jpg')`}}\n          >\n          { rulerAnimal && rulerAnimal.name ?\n            <img className=\"rounded-circle\" src={`${app}/animals/${rulerAnimal.id}.jpg`} alt={rulerAnimal.name} />\n            :\n            <img className=\"rounded-circle\" src=\"data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\"\n            alt=\"The Ruler\" />\n          }\n          </div>\n        </div>\n\n        <div className=\"row ruler\">\n          <div className=\"col-lg-12\">\n            <h2>Student {username}</h2>\n\n              <p><a href={`${EXPLORER_URL}/name/${username}`} target=\"_blank\" rel=\"noopener noreferrer\">{username}</a> has certificates:</p>\n\n            <p>\n            { rulerAnimal && rulerAnimal.name ?\n              <p>{rulerAnimal.name} </p>\n              :\n              <p>No Certificate Received Yet.</p>\n            }\n            {mine ? <Link className=\"btn btn-primary\" to=\"/me\" role=\"button\">Add Certificates</Link>\n            : <a\n              className='btn btn-primary'\n              href={`${window.location.origin}/kingdom/${currentUsername}?add=${app}/kingdom/${username}`}\n            >Add Certificates\n            </a>}\n\n            </p>\n\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Kingdom\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport './NavBar.css'\n\nclass NavBar extends Component {\n\n  render() {\n    const username = this.props.username\n    return (\n<nav className=\"navbar navbar-expand-md navbar-dark bg-blue fixed-top\">\n<Link className=\"navbar-brand\" to=\"/\">PKU Cert Centre</Link>\n<div className=\"collapse navbar-collapse\" id=\"navbarsExampleDefault\">\n  <ul className=\"navbar-nav mr-auto\">\n    <li className=\"nav-item\">\n      <Link className=\"nav-link\" to=\"/\">网站首页</Link>\n    </li>\n    <li className=\"nav-item\">\n      <Link className=\"nav-link\" to=\"/\">验证证书</Link>\n    </li>\n    <li className=\"nav-item\">\n      <Link className=\"nav-link\" to={`/kingdom/${username}`}>个人主页</Link>\n    </li>\n    <li className=\"nav-item\">\n      <Link className=\"nav-link\" to=\"/\">关于我们</Link>\n    </li>\n  </ul>\n</div>\n<ul className=\"navbar-nav mr-auto\">\n  <li className=\"nav-item\">\n    <Link className=\"nav-link\" to='/me'>{username}</Link>\n  </li>\n</ul>\n<button\n  className=\"btn btn-primary\"\n  onClick={this.props.signOut.bind(this)}\n>Sign out\n</button>\n</nav>\n)\n}\n}\n\nexport default NavBar\n","import React, { Component } from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport { UserSession } from 'blockstack'\nimport EditMe from './EditMe'\nimport Kingdom from './Kingdom'\nimport NavBar from './NavBar'\nimport Upload from './Upload'\nimport { appConfig, ME_FILENAME } from './constants'\nimport './SignedIn.css'\n\n\nclass SignedIn extends Component {\n\n  constructor(props) {\n    super(props)\n    this.userSession = new UserSession({ appConfig })\n    this.state = {\n      me: {},\n      savingMe: false,\n      savingKingdown: false,\n      redirectToMe: false\n      //selectedAnimal: false,\n      //selectedTerritory: false\n    }\n\n    this.loadMe = this.loadMe.bind(this)\n    this.saveMe = this.saveMe.bind(this)\n    this.signOut = this.signOut.bind(this)\n  }\n\n  componentWillMount() {\n    this.loadMe()\n  }\n//After a user signs in, the SignedIn.js code checks the user’s Gaia profile by running the loadMe() method.\n  loadMe() {\n    const options = { decrypt: false }\n    this.userSession.getFile(ME_FILENAME, options)\n    .then((content) => {\n      if(content) {\n        const me = JSON.parse(content)\n        this.setState({me, redirectToMe: false})\n      } else {\n        const me = null\n        this.setState({me, redirectToMe: true})\n      }\n    })\n  }\n//After a user chooses an animal persona and a territory, the user presses Done and the application stores the user data on Gaia.\n  saveMe(me) {\n    this.setState({me, savingMe: true})\n    const options = { encrypt: false }\n    this.userSession.putFile(ME_FILENAME, JSON.stringify(me), options)\n    .finally(() => {\n      this.setState({savingMe: false, redirectToMe: false})\n    })\n  }\n\n  signOut(e) {\n    e.preventDefault()\n    this.userSession.signUserOut()\n    window.location = '/'\n  }\n\n  render() {\n    const username = this.userSession.loadUserData().username\n    const me = this.state.me\n    const redirectToMe = this.state.redirectToMe\n    if(redirectToMe) {\n      // User hasn't configured her animal\n      if(window.location.pathname !== '/me') {\n        return (\n          <Redirect to=\"/me\" />\n        )\n      }\n    }\n\n    if(window.location.pathname === '/') {\n      return (\n        <Redirect to={`/kingdom/${username}`} />\n      )\n    }\n\n\n    return (\n      <div className=\"SignedIn\">\n      <NavBar username={username} signOut={this.signOut}/>\n      <Switch>\n              <Route\n                path='/me'\n                render={\n                  routeProps => <EditMe\n                  me={me}\n                  saveMe={this.saveMe}\n                  username={username}\n                  //selectedAnimal={this.props.selectedAnimal}\n                  //selectedTerritory={this.props.selectedAnimal}\n                  {...routeProps} />\n                }\n              />\n              <Route\n                path='/upload'\n                render={\n                  routeProps => <Upload\n                  me={me}\n                  saveMe={this.saveMe}\n                  username={username}\n                  {...routeProps} />\n                }\n              />\n\n              <Route\n                path={`/kingdom/${username}`}\n                render={\n                  routeProps => <Kingdom\n                  myKingdom={true}\n                  protocol={window.location.protocol}\n                  ruler={username}\n                  currentUsername={username}\n                  realm={window.location.origin.split('//')[1]}\n                  {...routeProps} />\n                }\n              />\n              <Route\n                path='/kingdom/:protocol/:realm/:ruler'\n                render={\n                  routeProps => <Kingdom\n                  myKingdom={false}\n                  protocol={routeProps.match.params.protocol}\n                  realm={routeProps.match.params.realm}\n                  ruler={routeProps.match.params.ruler}\n                  currentUsername={username}\n                  {...routeProps} />\n                }\n              />\n      </Switch>\n      </div>\n    );\n  }\n}\n\nexport default SignedIn\n","import React, { Component } from 'react'\nimport './App.css'\nimport { UserSession } from 'blockstack'\n\nimport Landing from './Landing'\nimport SignedIn from './SignedIn'\n\nclass App extends Component {\n\n  constructor() {\n    super()\n    this.userSession = new UserSession()\n  }\n\n  componentWillMount() {\n    const session = this.userSession\n    if(!session.isUserSignedIn() && session.isSignInPending()) {\n      session.handlePendingSignIn()\n      .then((userData) => {\n        if(!userData.username) {\n          throw new Error('This app requires a username.')\n        }\n        window.location = `/kingdom/${userData.username}`\n      })\n    }\n  }\n\n  render() {\n    return (\n      <main role=\"main\">\n          {this.userSession.isUserSignedIn() ?\n            <SignedIn />\n          :\n            <Landing />\n          }\n      </main>\n    );\n  }\n}\n\nexport default App\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport './index.css'\nimport App from './App'\nimport registerServiceWorker from './registerServiceWorker'\nimport 'bootstrap/dist/css/bootstrap.css'\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'))\nregisterServiceWorker()\n","import { AppConfig } from 'blockstack'\n\nexport const appConfig = new AppConfig(['store_write', 'publish_data'])\n\nexport const ANIMALS = [\n  {\n    id: 'cat',\n    name: 'Cat',\n    superpower: 'Has 9 lives.'\n  },\n  {\n    id: 'dog',\n    name: 'Dog',\n    superpower: 'Catching frisbees.'\n  },\n  {\n    id: 'lion',\n    name: 'Lion',\n    superpower: 'Roaring loudly.'\n  },\n  {\n    id: 'PKU_2020_Graduates_Jasmine',\n    name: 'PKU_2020_Graduates_Jasmine',\n    superpower: 'Graduate.'\n  }\n]\n\nexport const TERRITORIES = [\n  {\n    id: 'forest',\n    name: 'Forest',\n    superpower: 'Trees!'\n  },\n  {\n    id: 'tundra',\n    name: 'Tundra',\n    superpower: 'Let it snow!'\n  },\n  {\n    id: 'westeros',\n    name: 'Westeros',\n    superpower: 'The Iron Throne!'\n  }\n]\n\nexport const ME_FILENAME = 'me.json'\nexport const SUBJECTS_FILENAME = 'subjects.json'\nexport const EXPLORER_URL = 'https://explorer.blockstack.org'\n\n\nexport const OTHER_KINGDOMS = [\n    {\n       \"app\": \"https://animal-kingdom-1.firebaseapp.com\",\n       \"ruler\": \"larry.id\"\n    },\n    {\n       \"app\": \"http://localhost:3001\",\n       \"ruler\": \"larz.id\"\n    },\n    {\n       \"app\": \"https://decentralised-islands.netlify.com\",\n       \"ruler\": \"yannael_leborgne.id\"\n    },\n    {\n       \"app\": \"https://thirsty-jang-0c0a17.netlify.com\",\n       \"ruler\": \"ma1222042.id.blockstack\"\n    },\n    {\n       \"app\": \"https://elastic-yalow-5d7c5a.netlify.com\",\n       \"ruler\": \"kkomaz.id\"\n    },\n    {\n       \"app\": \"https://valsanimalkingdom.netlify.com\",\n       \"ruler\": \"valentin.blockstack.id\"\n    },\n    {\n       \"app\": \"https://dazzling-mclean-3dd6e2.netlify.com\",\n       \"ruler\": \"salil_gtm.id.blockstack\"\n    },\n    {\n       \"app\": \"https://optimistic-kepler-bb37b2.netlify.com\",\n       \"ruler\": \"sagarchoudhary96.id.blockstack\"\n    },\n    {\n       \"app\": \"https://mystifying-bardeen-983642.netlify.com\",\n       \"ruler\": \"rattle99.id.blockstack\"\n    },\n    {\n       \"app\": \"https://stoic-leavitt-d86356.netlify.com\",\n       \"ruler\": \"azizahmed.id.blockstack\"\n    },\n    {\n       \"app\": \"https://frosty-leakey-8a24d2.netlify.com\",\n       \"ruler\": \"superbadpeter.id.blockstack\"\n    },\n    {\n       \"app\": \"https://gallant-sinoussi-734e73.netlify.com\",\n       \"ruler\": \"ginxh.id.blockstack\"\n    },\n    {\n       \"app\": \"https://trusting-haibt-e87237.netlify.com\",\n       \"ruler\": \"charlied.id.blockstack\"\n    },\n    {\n       \"app\": \"https://dazzling-ptolemy-1e1411.netlify.com\",\n       \"ruler\": \"fivebyfive.id.blockstack\"\n    },\n    {\n       \"app\": \"https://planet.friedger.de\",\n       \"ruler\": \"friedger.id\"\n    },\n    {\n       \"app\": \"https://animal-kingdom.djnicholson.com\",\n       \"ruler\": \"djnicholson.id.blockstack\"\n    },\n    {\n       \"app\": \"https://vigilant-goldberg-43a99e.netlify.com\",\n       \"ruler\": \"samuelescarigo.id.blockstack\"\n    },\n    {\n       \"app\": \"https://condescending-wright-e66128.netlify.com\",\n       \"ruler\": \"lindseywoo.id.blockstack\"\n    },\n    {\n       \"app\": \"https://trusting-stonebraker-af1ebc.netlify.com\",\n       \"ruler\": \"ngerald51.id.blockstack\"\n    },\n    {\n       \"app\": \"https://stoic-williams-909dc6.netlify.com\",\n       \"ruler\": \"kimsk112.id.blockstack\"\n    },\n    {\n       \"app\": \"https://elastic-dijkstra-9f34ef.netlify.com\",\n       \"ruler\": \"csilverman.id.blockstack\"\n    },\n    {\n       \"app\": \"https://angry-jepsen-50bb19.netlify.com\",\n       \"ruler\": \"sandyhoover.id\"\n    },\n    {\n       \"app\": \"https://hopeful-meninsky-92fa7f.netlify.com\",\n       \"ruler\": \"quiottscuinn.id.blockstack\"\n    },\n    {\n       \"app\": \"https://cranky-spence-eef5f8.netlify.com\",\n       \"ruler\": \"fehrnstr.id.blockstack\"\n    },\n    {\n       \"app\": \"https://focused-roentgen-9b4d74.netlify.com\",\n       \"ruler\": \"jorishermans.id.blockstack\"\n    },\n    {\n       \"app\": \"https://reverent-pasteur-a4900c.netlify.com\",\n       \"ruler\": \"dubiousdog.id.blockstack\"\n    },\n    {\n       \"app\": \"https://zealous-villani-bb5378.netlify.com\",\n       \"ruler\": \"jstrnbrg.id.blockstack\"\n    },\n    {\n       \"app\": \"https://zealous-cray-e48eb6.netlify.com\",\n       \"ruler\": \"trappier.id.blockstack\"\n    },\n    {\n       \"app\": \"https://animalkingdom5th.netlify.com\",\n       \"ruler\": \"5thdimension.id.blockstack\"\n    },\n    {\n       \"app\": \"https://distracted-saha-09847b.netlify.com\",\n       \"ruler\": \"anthony_albertorio.id.blockstack\"\n    },\n    {\n       \"app\": \"https://modest-wescoff-dc0756.netlify.com\",\n       \"ruler\": \"pantherapardus.id.blockstack\"\n    },\n    {\n       \"app\": \"https://romantic-perlman-5483a9.netlify.com\",\n       \"ruler\": \"gopye.id.blockstack\"\n    },\n    {\n       \"app\": \"https://upbeat-blackwell-6b07c7.netlify.com\",\n       \"ruler\": \"darkstyrm.id.blockstack\"\n    },\n    {\n       \"app\": \"https://awesome-animal-kingdom.netlify.com\",\n       \"ruler\": \"adocator.id.blockstack\"\n    },\n    {\n       \"app\": \"https://ecstatic-haibt-d35f9e.netlify.com\",\n       \"ruler\": \"jeff007ali.id.blockstack\"\n    },\n    {\n       \"app\": \"https://gracious-franklin-84624c.netlify.com\",\n       \"ruler\": \"mjunaidasghar.id.blockstack\"\n    },\n    {\n       \"app\": \"https://musing-shirley-883fc4.netlify.com\",\n       \"ruler\": \"explorer.id.blockstack\"\n    },\n    {\n       \"app\": \"https://focused-curie-e04620.netlify.com\",\n       \"ruler\": \"trautman.id.blockstack\"\n    },\n    {\n       \"app\": \"https://elegant-visvesvaraya-0ee302.netlify.com\",\n       \"ruler\": \"harshit7.id.blockstack\"\n    },\n    {\n       \"app\": \"https://cocky-hopper-116fb2.netlify.com\",\n       \"ruler\": \"adroaldomartins.id.blockstack\"\n    },\n    {\n       \"app\": \"https://elated-mahavira-9ff8bc.netlify.com\",\n       \"ruler\": \"dorsatum.id.blockstack\"\n    },\n    {\n       \"app\": \"https://admiring-einstein-e2cbce.netlify.com\",\n       \"ruler\": \"neterblock.id.blockstack\"\n    },\n    {\n       \"app\": \"https://trusting-yalow-75bf93.netlify.com\",\n       \"ruler\": \"aminukano.id.blockstack\"\n    },\n    {\n       \"app\": \"https://nifty-engelbart-64b745.netlify.com\",\n       \"ruler\": \"danielmartin.id.blockstack\"\n    },\n    {\n       \"app\": \"https://festive-bartik-136d47.netlify.com\",\n       \"ruler\": \"mikespellcheck.id.blockstack\"\n    },\n    {\n       \"app\": \"https://xenodochial-goldstine-04ec71.netlify.com\",\n       \"ruler\": \"qrodgers.id.blockstack\"\n    },\n    {\n       \"app\": \"https://zealous-curie-1c5d61.netlify.com\",\n       \"ruler\": \"nimbustwothousand.id.blockstack\"\n    },\n    {\n       \"app\": \"https://distracted-boyd-be788c.netlify.com\",\n       \"ruler\": \"samiracle.id.blockstack\"\n    },\n    {\n       \"app\": \"https://relaxed-jackson-680632.netlify.com\",\n       \"ruler\": \"andrewdeal.id.blockchain\"\n    },\n    {\n       \"app\": \"https://gifted-hermann-02ef62.netlify.com\",\n       \"ruler\": \"Iflvegath.id.blockstack\"\n    },\n    {\n       \"app\": \"https://distracted-swirles-f624ce.netlify.com\",\n       \"ruler\": \"ranjhith.id.blockstack\"\n    },\n    {\n       \"app\": \"https://stoic-lovelace-9328c2.netlify.com\",\n       \"ruler\": \"suragusheth.id.blockstack\"\n    },\n    {\n       \"app\": \"https://friendly-stonebraker-b91ed0.netlify.com\",\n       \"ruler\": \"rajkumar.id.blockstack\"\n    },\n    {\n       \"app\": \"https://priceless-lichterman-b8ccca.netlify.com\",\n       \"ruler\": \"kristens.id.blockstack\"\n    },\n    {\n       \"app\": \"https://happy-hermann-c2356d.netlify.com\",\n       \"ruler\": \"imchriskitchens.id.blockstack\"\n    },\n    {\n       \"app\": \"https://silly-sinoussi-10e90b.netlify.com\",\n       \"ruler\": \"thibault_l.id.blockstack\"\n    },\n    {\n       \"app\": \"https://elegant-stonebraker-70fbf6.netlify.com\",\n       \"ruler\": \"entheome.id.blockstack\"\n    },\n    {\n       \"app\": \"https://elated-saha-682bdf.netlify.com\",\n       \"ruler\": \"pickpark.id.blockstack\"\n    },\n    {\n       \"app\": \"https://quirky-chandrasekhar-cfb8e0.netlify.com\",\n       \"ruler\": \"sjdftech.id.blockstack\"\n    },\n    {\n       \"app\": \"https://heuristic-kowalevski-0e9a5d.netlify.com\",\n       \"ruler\": \"realabbas.id.blockstack\"\n    },\n    {\n       \"app\": \"https://kind-wilson-d5a196.netlify.com\",\n       \"ruler\": \"josepservatlorca.id.blockstack\"\n    },\n    {\n       \"app\": \"https://blockstack-animal-kingdom.netlify.com\",\n       \"ruler\": \"kratosjv.id.blockstack\"\n    },\n    {\n       \"app\": \"https://festive-shaw-b23343.netlify.com\",\n       \"ruler\": \"wushuwei.id.blockstack\"\n    },\n    {\n       \"app\": \"https://animal-kingdom.matteocorossigo95.now.sh\",\n       \"ruler\": \"mcorossigo.id.blockstack\"\n    },\n    {\n       \"app\": \"https://angry-hopper-791a28.netlify.com\",\n       \"ruler\": \"darrelpol.id.blockstack\"\n    },\n    {\n       \"app\": \"https://angry-noether-618c3e.netlify.com\",\n       \"ruler\": \"jazbogross.id.blockstack\"\n    },\n    {\n       \"app\": \"https://happy-aryabhata-011484.netlify.com\",\n       \"ruler\": \"citrustux.id\"\n    }                   \n ]\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport './EditMe.css'\nimport Card from './Card'\nimport { ANIMALS, TERRITORIES, ME_FILENAME } from './constants'\n\nconst ipfsAPI = require('ipfs-api');\nconst ipfs = ipfsAPI({host: 'localhost', port: '5001', protocol: 'http'});\n\nfunction Utf8ArrayToStr(array) {\n    var out, i, len, c;\n    var char2, char3;\n\n    out = \"\";\n    len = array.length;\n    i = 0;\n    while(i < len) {\n    c = array[i++];\n    switch(c >> 4)\n    { \n      case 0: case 1: case 2: case 3: case 4: case 5: case 6: case 7:\n        // 0xxxxxxx\n        out += String.fromCharCode(c);\n        break;\n      case 12: case 13:\n        // 110x xxxx   10xx xxxx\n        char2 = array[i++];\n        out += String.fromCharCode(((c & 0x1F) << 6) | (char2 & 0x3F));\n        break;\n      case 14:\n        // 1110 xxxx  10xx xxxx  10xx xxxx\n        char2 = array[i++];\n        char3 = array[i++];\n        out += String.fromCharCode(((c & 0x0F) << 12) |\n                       ((char2 & 0x3F) << 6) |\n                       ((char3 & 0x3F) << 0));\n        break;\n    }\n    }\n\n    return out;\n}\n\n\nclass Upload extends Component {\n\n  constructor(props) {\n    super(props)\n    this.selectAnimal = this.selectAnimal.bind(this)\n    this.selectTerritory = this.selectTerritory.bind(this)\n\n    this.state = {\n      selectedAnimal: false,\n      selectedTerritory: false,\n      strHash: null,\n      strContent: null,\n      imgSrc: null\n    }\n    this.loadMe = this.loadMe.bind(this)\n\n  }\n\n  saveTextBlobOnIpfs = (blob) => {\n    return new Promise(function(resolve, reject) {\n      const descBuffer = Buffer.from(blob, 'utf-8');\n      ipfs.add(descBuffer).then((response) => {\n        console.log(response)\n        resolve(response[0].hash);\n      }).catch((err) => {\n        console.error(err)\n        reject(err);\n      })\n    })\n  }\n\n  saveImageOnIpfs = (reader) => {\n    return new Promise(function(resolve, reject) {\n      const buffer = Buffer.from(reader.result);\n      ipfs.add(buffer).then((response) => {\n        console.log(response)\n        resolve(response[0].hash);\n      }).catch((err) => {\n        console.error(err)\n        reject(err);\n      })\n    })\n  }\n\n  componentWillMount() {\n    this.loadMe()\n  }\n\n  loadMe() {\n    if(this.props.me) {\n        this.setState({selectedAnimal: true, selectedTerritory: true})\n      } else {\n        this.setState({selectedAnimal: false, selectedTerritory: false})\n      }\n  }\n  \n\n  selectAnimal(e, animal) {\n    e.preventDefault()\n    this.setState({selectedAnimal: true})\n    this.props.saveMe(Object.assign({}, this.props.me, { animal }))\n  }\n\n  selectTerritory(e, territory) {\n    e.preventDefault()\n    this.setState({selectedTerritory: true})\n    this.props.saveMe(Object.assign({}, this.props.me, { territory }))\n  }\n\n\n  render() {\n    const me = this.props.me\n    let myAnimal = null\n    let myTerritory = null\n    if (me) {\n      myAnimal = this.props.me.animal\n      myTerritory = this.props.me.territory\n    }\n    const selectedAnimal = this.state.selectedAnimal \n    const selectedTerritory = this.state.selectedTerritory\n    const completed = selectedAnimal && selectedTerritory\n    const username = this.props.username\n\n\n\n    return (\n      <div className=\"Upload container\">\n      <h2>Your Certificates</h2>\n      <p>You have these certificates!You can add your certificate after verification.</p>\n\n\n\t\t<div>\n\t\t      <input type=\"file\" ref=\"file\" id=\"file\" name=\"file\" multiple=\"multiple\"/>\n\t\t      <br/>\n\t\t      <input ref=\"ipfsContent\"/>\n\t\t      <button onClick={() => {\n\t\t\t  var file = this.refs.file.files[0];\n\t\t\t  var reader = new FileReader();\n\t\t\t  // reader.readAsDataURL(file);\n\t\t\t  reader.readAsArrayBuffer(file)\n\t\t\t  reader.onloadend = (e) => {\n\t\t\t    console.log(reader);\n\t\t\t    // 上传数据到IPFS\n\t\t\t    this.saveImageOnIpfs(reader).then((hash) => {\n\t\t\t      console.log(hash);\n\t\t\t      this.setState({\n\t\t\t\timgSrc: hash,\n\t\t\t\tstrHash: hash\n\t\t\t      })\n\t\t\t    });\n\t\t\t  }\n\n\t\t\t  // let ipfsContent = this.refs.ipfsContent.value;\n\t\t\t  // console.log(ipfsContent);\n\t\t\t  // this.saveTextBlobOnIpfs(ipfsContent).then((hash) => {\n\t\t\t  //   console.log(hash);\n\t\t\t  //   this.setState({strHash: hash});\n\t\t\t  // });\n\t\t\t}}>提交到IPFS</button>\n\t\t      <p>http://ipfs.io/ipfs/{this.state.strHash}</p>\n\t\t      <button onClick={() => {\n\t\t\t  console.log('从ipfs读取数据。')\n\t\t\t  let hash = this.state.strHash;\n\t\t\t  \n\t\t\t  ipfs.cat(hash).then((stream) => {\n\t\t\t    console.log(stream);\n\t\t\t    let strContent = Utf8ArrayToStr(stream);\n\t\t\t    console.log(strContent);\n\t\t\t    this.setState({strContent: strContent});\n\t\t\t  });\n\t\t\t}}>读取数据</button>\n\t\t      <h1>{\"https://ipfs.io/ipfs/\" + this.state.imgSrc}</h1>\n\t\t      <img alt=\"区块链部落\"  src={\"http://127.0.0.1:8080/ipfs/\" + this.state.imgSrc}/>\n\t\t      </div>\n\n\t\t\t<h3>Select your animal</h3>\n\t\t\t<div className=\"row card-deck\">\n\t\t\t{ ANIMALS.map((animal, index) => {\n\t\t\t  const selected = myAnimal && myAnimal.id === animal.id\n\t\t\t  return (\n\t\t\t    <Card path='/animals/' key={index} item={animal} select={this.selectAnimal} selected={selected} />\n\t\t\t\t)\n\t\t\t  })\n\t\t\t}\n\t\t\t</div>\n\n\t\t\t<h3 className=\"select-territory\">Select your territory</h3>\n\t\t\t<div className=\"card-deck\">\n\t\t\t{ TERRITORIES.map((territory, index) => {\n\t\t\t  const selected = myTerritory && myTerritory.id === territory.id\n\t\t\t  return (\n\t\t\t    <Card path='/territories/' key={index} item={territory} select={this.selectTerritory} selected={selected} />\n\t\t\t\t)\n\t\t\t  })\n\t\t\t}\n\t\t\t</div>\n\n        <div className=\"container row\">\n          <div className=\"col-lg-12 done\">\n            <p>\n              <Link to={completed?`/kingdom/${username}`:`/me`} \n                    className=\"btn btn-primary\">Done</Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default Upload\n"],"sourceRoot":""}